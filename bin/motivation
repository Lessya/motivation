#!/usr/bin/env ruby

require 'motivation'
require 'yaml'
require 'colour_output'
require 'optparse'
require 'command_parser'
require 'file_watcher'

quotes = YAML.load_file('./lib/quote.yml')
file_watcher = FileWatcher.new([])

motivator = Motivation.new(quotes, ColourOutput.new, file_watcher)

parser = CommandParser.new(quotes)
options = parser.collect(ARGV)

puts motivator.send(options[:method], options[:arguments])
